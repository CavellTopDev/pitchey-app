{
  "id": "ae19671a-e7b0-43ce-a748-cc50d6029396",
  "prevId": "47ba93f0-d25f-41ce-a205-78d3dc88ca30",
  "version": "5",
  "dialect": "pg",
  "tables": {
    "conversation_participants": {
      "name": "conversation_participants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "left_at": {
          "name": "left_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "mute_notifications": {
          "name": "mute_notifications",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {
        "conversation_participants_conversation_id_idx": {
          "name": "conversation_participants_conversation_id_idx",
          "columns": [
            "conversation_id"
          ],
          "isUnique": false
        },
        "conversation_participants_user_id_idx": {
          "name": "conversation_participants_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "conversation_participants_conversation_id_conversations_id_fk": {
          "name": "conversation_participants_conversation_id_conversations_id_fk",
          "tableFrom": "conversation_participants",
          "tableTo": "conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "conversation_participants_user_id_users_id_fk": {
          "name": "conversation_participants_user_id_users_id_fk",
          "tableFrom": "conversation_participants",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "conversation_participants_conversation_id_user_id_unique": {
          "name": "conversation_participants_conversation_id_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "conversation_id",
            "user_id"
          ]
        }
      }
    },
    "conversations": {
      "name": "conversations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "pitch_id": {
          "name": "pitch_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_by_id": {
          "name": "created_by_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "is_group": {
          "name": "is_group",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "last_message_at": {
          "name": "last_message_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "conversations_pitch_id_idx": {
          "name": "conversations_pitch_id_idx",
          "columns": [
            "pitch_id"
          ],
          "isUnique": false
        },
        "conversations_created_by_id_idx": {
          "name": "conversations_created_by_id_idx",
          "columns": [
            "created_by_id"
          ],
          "isUnique": false
        },
        "conversations_last_message_at_idx": {
          "name": "conversations_last_message_at_idx",
          "columns": [
            "last_message_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "conversations_pitch_id_pitches_id_fk": {
          "name": "conversations_pitch_id_pitches_id_fk",
          "tableFrom": "conversations",
          "tableTo": "pitches",
          "columnsFrom": [
            "pitch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "conversations_created_by_id_users_id_fk": {
          "name": "conversations_created_by_id_users_id_fk",
          "tableFrom": "conversations",
          "tableTo": "users",
          "columnsFrom": [
            "created_by_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "credit_transactions": {
      "name": "credit_transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "payment_id": {
          "name": "payment_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "credit_transaction_type",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "balance_before": {
          "name": "balance_before",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "balance_after": {
          "name": "balance_after",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "pitch_id": {
          "name": "pitch_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "usage_type": {
          "name": "usage_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "credit_transactions_user_id_idx": {
          "name": "credit_transactions_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "credit_transactions_type_idx": {
          "name": "credit_transactions_type_idx",
          "columns": [
            "type"
          ],
          "isUnique": false
        },
        "credit_transactions_created_at_idx": {
          "name": "credit_transactions_created_at_idx",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        },
        "credit_transactions_payment_id_idx": {
          "name": "credit_transactions_payment_id_idx",
          "columns": [
            "payment_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "credit_transactions_user_id_users_id_fk": {
          "name": "credit_transactions_user_id_users_id_fk",
          "tableFrom": "credit_transactions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "credit_transactions_payment_id_payments_id_fk": {
          "name": "credit_transactions_payment_id_payments_id_fk",
          "tableFrom": "credit_transactions",
          "tableTo": "payments",
          "columnsFrom": [
            "payment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "credit_transactions_pitch_id_pitches_id_fk": {
          "name": "credit_transactions_pitch_id_pitches_id_fk",
          "tableFrom": "credit_transactions",
          "tableTo": "pitches",
          "columnsFrom": [
            "pitch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "deals": {
      "name": "deals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "pitch_id": {
          "name": "pitch_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "creator_id": {
          "name": "creator_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "investor_id": {
          "name": "investor_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "deal_value": {
          "name": "deal_value",
          "type": "numeric(15, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "success_fee_percentage": {
          "name": "success_fee_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'3.00'"
        },
        "success_fee_amount": {
          "name": "success_fee_amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "confirmed_at": {
          "name": "confirmed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "paid_at": {
          "name": "paid_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "contract_details": {
          "name": "contract_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "deals_pitch_id_idx": {
          "name": "deals_pitch_id_idx",
          "columns": [
            "pitch_id"
          ],
          "isUnique": false
        },
        "deals_creator_id_idx": {
          "name": "deals_creator_id_idx",
          "columns": [
            "creator_id"
          ],
          "isUnique": false
        },
        "deals_investor_id_idx": {
          "name": "deals_investor_id_idx",
          "columns": [
            "investor_id"
          ],
          "isUnique": false
        },
        "deals_status_idx": {
          "name": "deals_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "deals_pitch_id_pitches_id_fk": {
          "name": "deals_pitch_id_pitches_id_fk",
          "tableFrom": "deals",
          "tableTo": "pitches",
          "columnsFrom": [
            "pitch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "deals_creator_id_users_id_fk": {
          "name": "deals_creator_id_users_id_fk",
          "tableFrom": "deals",
          "tableTo": "users",
          "columnsFrom": [
            "creator_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "deals_investor_id_users_id_fk": {
          "name": "deals_investor_id_users_id_fk",
          "tableFrom": "deals",
          "tableTo": "users",
          "columnsFrom": [
            "investor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "follows": {
      "name": "follows",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "follower_id": {
          "name": "follower_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "pitch_id": {
          "name": "pitch_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "creator_id": {
          "name": "creator_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "followed_at": {
          "name": "followed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "follows_follower_id_idx": {
          "name": "follows_follower_id_idx",
          "columns": [
            "follower_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "follows_follower_id_users_id_fk": {
          "name": "follows_follower_id_users_id_fk",
          "tableFrom": "follows",
          "tableTo": "users",
          "columnsFrom": [
            "follower_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "follows_pitch_id_pitches_id_fk": {
          "name": "follows_pitch_id_pitches_id_fk",
          "tableFrom": "follows",
          "tableTo": "pitches",
          "columnsFrom": [
            "pitch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "follows_creator_id_users_id_fk": {
          "name": "follows_creator_id_users_id_fk",
          "tableFrom": "follows",
          "tableTo": "users",
          "columnsFrom": [
            "creator_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "follows_follower_id_pitch_id_unique": {
          "name": "follows_follower_id_pitch_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "follower_id",
            "pitch_id"
          ]
        },
        "follows_follower_id_creator_id_unique": {
          "name": "follows_follower_id_creator_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "follower_id",
            "creator_id"
          ]
        }
      }
    },
    "invoices": {
      "name": "invoices",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "deal_id": {
          "name": "deal_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "payment_id": {
          "name": "payment_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "invoice_number": {
          "name": "invoice_number",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "status": {
          "name": "status",
          "type": "invoice_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "issued_at": {
          "name": "issued_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "due_at": {
          "name": "due_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "paid_at": {
          "name": "paid_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "line_items": {
          "name": "line_items",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "billing_address": {
          "name": "billing_address",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "pdf_url": {
          "name": "pdf_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "invoices_user_id_idx": {
          "name": "invoices_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "invoices_status_idx": {
          "name": "invoices_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "invoices_invoice_number_idx": {
          "name": "invoices_invoice_number_idx",
          "columns": [
            "invoice_number"
          ],
          "isUnique": false
        },
        "invoices_deal_id_idx": {
          "name": "invoices_deal_id_idx",
          "columns": [
            "deal_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "invoices_user_id_users_id_fk": {
          "name": "invoices_user_id_users_id_fk",
          "tableFrom": "invoices",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "invoices_deal_id_deals_id_fk": {
          "name": "invoices_deal_id_deals_id_fk",
          "tableFrom": "invoices",
          "tableTo": "deals",
          "columnsFrom": [
            "deal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "invoices_payment_id_payments_id_fk": {
          "name": "invoices_payment_id_payments_id_fk",
          "tableFrom": "invoices",
          "tableTo": "payments",
          "columnsFrom": [
            "payment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "invoices_invoice_number_unique": {
          "name": "invoices_invoice_number_unique",
          "nullsNotDistinct": false,
          "columns": [
            "invoice_number"
          ]
        }
      }
    },
    "message_read_receipts": {
      "name": "message_read_receipts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "delivered_at": {
          "name": "delivered_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "message_read_receipts_message_id_idx": {
          "name": "message_read_receipts_message_id_idx",
          "columns": [
            "message_id"
          ],
          "isUnique": false
        },
        "message_read_receipts_user_id_idx": {
          "name": "message_read_receipts_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "message_read_receipts_message_id_messages_id_fk": {
          "name": "message_read_receipts_message_id_messages_id_fk",
          "tableFrom": "message_read_receipts",
          "tableTo": "messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "message_read_receipts_user_id_users_id_fk": {
          "name": "message_read_receipts_user_id_users_id_fk",
          "tableFrom": "message_read_receipts",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "message_read_receipts_message_id_user_id_unique": {
          "name": "message_read_receipts_message_id_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "message_id",
            "user_id"
          ]
        }
      }
    },
    "messages": {
      "name": "messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pitch_id": {
          "name": "pitch_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "sender_id": {
          "name": "sender_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "receiver_id": {
          "name": "receiver_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "parent_message_id": {
          "name": "parent_message_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "subject": {
          "name": "subject",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "message_type": {
          "name": "message_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'text'"
        },
        "attachments": {
          "name": "attachments",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_edited": {
          "name": "is_edited",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "off_platform_requested": {
          "name": "off_platform_requested",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "off_platform_approved": {
          "name": "off_platform_approved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "sent_at": {
          "name": "sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "edited_at": {
          "name": "edited_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "deleted_at": {
          "name": "deleted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "messages_conversation_id_idx": {
          "name": "messages_conversation_id_idx",
          "columns": [
            "conversation_id"
          ],
          "isUnique": false
        },
        "messages_sender_id_idx": {
          "name": "messages_sender_id_idx",
          "columns": [
            "sender_id"
          ],
          "isUnique": false
        },
        "messages_receiver_id_idx": {
          "name": "messages_receiver_id_idx",
          "columns": [
            "receiver_id"
          ],
          "isUnique": false
        },
        "messages_pitch_id_idx": {
          "name": "messages_pitch_id_idx",
          "columns": [
            "pitch_id"
          ],
          "isUnique": false
        },
        "messages_parent_message_id_idx": {
          "name": "messages_parent_message_id_idx",
          "columns": [
            "parent_message_id"
          ],
          "isUnique": false
        },
        "messages_sent_at_idx": {
          "name": "messages_sent_at_idx",
          "columns": [
            "sent_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "messages_conversation_id_conversations_id_fk": {
          "name": "messages_conversation_id_conversations_id_fk",
          "tableFrom": "messages",
          "tableTo": "conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "messages_pitch_id_pitches_id_fk": {
          "name": "messages_pitch_id_pitches_id_fk",
          "tableFrom": "messages",
          "tableTo": "pitches",
          "columnsFrom": [
            "pitch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "messages_sender_id_users_id_fk": {
          "name": "messages_sender_id_users_id_fk",
          "tableFrom": "messages",
          "tableTo": "users",
          "columnsFrom": [
            "sender_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "messages_receiver_id_users_id_fk": {
          "name": "messages_receiver_id_users_id_fk",
          "tableFrom": "messages",
          "tableTo": "users",
          "columnsFrom": [
            "receiver_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "messages_parent_message_id_messages_id_fk": {
          "name": "messages_parent_message_id_messages_id_fk",
          "tableFrom": "messages",
          "tableTo": "messages",
          "columnsFrom": [
            "parent_message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "nda_requests": {
      "name": "nda_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "pitch_id": {
          "name": "pitch_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "requester_id": {
          "name": "requester_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "owner_id": {
          "name": "owner_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "nda_type": {
          "name": "nda_type",
          "type": "nda_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'basic'"
        },
        "request_message": {
          "name": "request_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_info": {
          "name": "company_info",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "responded_at": {
          "name": "responded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "nda_requests_pitch_id_idx": {
          "name": "nda_requests_pitch_id_idx",
          "columns": [
            "pitch_id"
          ],
          "isUnique": false
        },
        "nda_requests_requester_id_idx": {
          "name": "nda_requests_requester_id_idx",
          "columns": [
            "requester_id"
          ],
          "isUnique": false
        },
        "nda_requests_owner_id_idx": {
          "name": "nda_requests_owner_id_idx",
          "columns": [
            "owner_id"
          ],
          "isUnique": false
        },
        "nda_requests_status_idx": {
          "name": "nda_requests_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "nda_requests_pitch_id_pitches_id_fk": {
          "name": "nda_requests_pitch_id_pitches_id_fk",
          "tableFrom": "nda_requests",
          "tableTo": "pitches",
          "columnsFrom": [
            "pitch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "nda_requests_requester_id_users_id_fk": {
          "name": "nda_requests_requester_id_users_id_fk",
          "tableFrom": "nda_requests",
          "tableTo": "users",
          "columnsFrom": [
            "requester_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "nda_requests_owner_id_users_id_fk": {
          "name": "nda_requests_owner_id_users_id_fk",
          "tableFrom": "nda_requests",
          "tableTo": "users",
          "columnsFrom": [
            "owner_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "nda_requests_pitch_id_requester_id_unique": {
          "name": "nda_requests_pitch_id_requester_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "pitch_id",
            "requester_id"
          ]
        }
      }
    },
    "ndas": {
      "name": "ndas",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "pitch_id": {
          "name": "pitch_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "signer_id": {
          "name": "signer_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "nda_type": {
          "name": "nda_type",
          "type": "nda_type",
          "primaryKey": false,
          "notNull": true
        },
        "nda_version": {
          "name": "nda_version",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.0'"
        },
        "custom_nda_url": {
          "name": "custom_nda_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "signed_at": {
          "name": "signed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "signature_data": {
          "name": "signature_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "access_granted": {
          "name": "access_granted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "access_revoked_at": {
          "name": "access_revoked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "ndas_pitch_id_idx": {
          "name": "ndas_pitch_id_idx",
          "columns": [
            "pitch_id"
          ],
          "isUnique": false
        },
        "ndas_signer_id_idx": {
          "name": "ndas_signer_id_idx",
          "columns": [
            "signer_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "ndas_pitch_id_pitches_id_fk": {
          "name": "ndas_pitch_id_pitches_id_fk",
          "tableFrom": "ndas",
          "tableTo": "pitches",
          "columnsFrom": [
            "pitch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ndas_signer_id_users_id_fk": {
          "name": "ndas_signer_id_users_id_fk",
          "tableFrom": "ndas",
          "tableTo": "users",
          "columnsFrom": [
            "signer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "ndas_pitch_id_signer_id_unique": {
          "name": "ndas_pitch_id_signer_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "pitch_id",
            "signer_id"
          ]
        }
      }
    },
    "notifications": {
      "name": "notifications",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "message": {
          "name": "message",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "related_pitch_id": {
          "name": "related_pitch_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "related_user_id": {
          "name": "related_user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "related_nda_request_id": {
          "name": "related_nda_request_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "action_url": {
          "name": "action_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "notifications_user_id_idx": {
          "name": "notifications_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "notifications_is_read_idx": {
          "name": "notifications_is_read_idx",
          "columns": [
            "is_read"
          ],
          "isUnique": false
        },
        "notifications_created_at_idx": {
          "name": "notifications_created_at_idx",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "notifications_user_id_users_id_fk": {
          "name": "notifications_user_id_users_id_fk",
          "tableFrom": "notifications",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "notifications_related_pitch_id_pitches_id_fk": {
          "name": "notifications_related_pitch_id_pitches_id_fk",
          "tableFrom": "notifications",
          "tableTo": "pitches",
          "columnsFrom": [
            "related_pitch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "notifications_related_user_id_users_id_fk": {
          "name": "notifications_related_user_id_users_id_fk",
          "tableFrom": "notifications",
          "tableTo": "users",
          "columnsFrom": [
            "related_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "notifications_related_nda_request_id_nda_requests_id_fk": {
          "name": "notifications_related_nda_request_id_nda_requests_id_fk",
          "tableFrom": "notifications",
          "tableTo": "nda_requests",
          "columnsFrom": [
            "related_nda_request_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "payment_methods": {
      "name": "payment_methods",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_payment_method_id": {
          "name": "stripe_payment_method_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "card_brand": {
          "name": "card_brand",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "card_last4": {
          "name": "card_last4",
          "type": "varchar(4)",
          "primaryKey": false,
          "notNull": false
        },
        "card_exp_month": {
          "name": "card_exp_month",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "card_exp_year": {
          "name": "card_exp_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "payment_methods_user_id_idx": {
          "name": "payment_methods_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "payment_methods_stripe_payment_method_idx": {
          "name": "payment_methods_stripe_payment_method_idx",
          "columns": [
            "stripe_payment_method_id"
          ],
          "isUnique": false
        },
        "payment_methods_default_idx": {
          "name": "payment_methods_default_idx",
          "columns": [
            "is_default"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "payment_methods_user_id_users_id_fk": {
          "name": "payment_methods_user_id_users_id_fk",
          "tableFrom": "payment_methods",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "payment_methods_stripe_payment_method_id_unique": {
          "name": "payment_methods_stripe_payment_method_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "stripe_payment_method_id"
          ]
        }
      }
    },
    "payments": {
      "name": "payments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "transaction_type",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "stripe_payment_intent_id": {
          "name": "stripe_payment_intent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_invoice_id": {
          "name": "stripe_invoice_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_session_id": {
          "name": "stripe_session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "transaction_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "failed_at": {
          "name": "failed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "payments_user_id_idx": {
          "name": "payments_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "payments_status_idx": {
          "name": "payments_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "payments_type_idx": {
          "name": "payments_type_idx",
          "columns": [
            "type"
          ],
          "isUnique": false
        },
        "payments_stripe_payment_intent_idx": {
          "name": "payments_stripe_payment_intent_idx",
          "columns": [
            "stripe_payment_intent_id"
          ],
          "isUnique": false
        },
        "payments_created_at_idx": {
          "name": "payments_created_at_idx",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "payments_user_id_users_id_fk": {
          "name": "payments_user_id_users_id_fk",
          "tableFrom": "payments",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "pitch_views": {
      "name": "pitch_views",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "pitch_id": {
          "name": "pitch_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "viewer_id": {
          "name": "viewer_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "view_type": {
          "name": "view_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "referrer": {
          "name": "referrer",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "view_duration": {
          "name": "view_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "scroll_depth": {
          "name": "scroll_depth",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "clicked_watch_this": {
          "name": "clicked_watch_this",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "viewed_at": {
          "name": "viewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "pitch_views_pitch_id_idx": {
          "name": "pitch_views_pitch_id_idx",
          "columns": [
            "pitch_id"
          ],
          "isUnique": false
        },
        "pitch_views_viewer_id_idx": {
          "name": "pitch_views_viewer_id_idx",
          "columns": [
            "viewer_id"
          ],
          "isUnique": false
        },
        "pitch_views_viewed_at_idx": {
          "name": "pitch_views_viewed_at_idx",
          "columns": [
            "viewed_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "pitch_views_pitch_id_pitches_id_fk": {
          "name": "pitch_views_pitch_id_pitches_id_fk",
          "tableFrom": "pitch_views",
          "tableTo": "pitches",
          "columnsFrom": [
            "pitch_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "pitch_views_viewer_id_users_id_fk": {
          "name": "pitch_views_viewer_id_users_id_fk",
          "tableFrom": "pitch_views",
          "tableTo": "users",
          "columnsFrom": [
            "viewer_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "pitches": {
      "name": "pitches",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "logline": {
          "name": "logline",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "genre": {
          "name": "genre",
          "type": "genre",
          "primaryKey": false,
          "notNull": true
        },
        "format": {
          "name": "format",
          "type": "format",
          "primaryKey": false,
          "notNull": true
        },
        "short_synopsis": {
          "name": "short_synopsis",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "long_synopsis": {
          "name": "long_synopsis",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "opener": {
          "name": "opener",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "premise": {
          "name": "premise",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "target_audience": {
          "name": "target_audience",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "characters": {
          "name": "characters",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "themes": {
          "name": "themes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "episode_breakdown": {
          "name": "episode_breakdown",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "budget_bracket": {
          "name": "budget_bracket",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_budget": {
          "name": "estimated_budget",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "production_timeline": {
          "name": "production_timeline",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title_image_url": {
          "name": "title_image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lookbook_url": {
          "name": "lookbook_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pitch_deck_url": {
          "name": "pitch_deck_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "script_url": {
          "name": "script_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "trailer_url": {
          "name": "trailer_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "budget_breakdown_url": {
          "name": "budget_breakdown_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "production_timeline_url": {
          "name": "production_timeline_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "additional_media": {
          "name": "additional_media",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "visibility_settings": {
          "name": "visibility_settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"showShortSynopsis\":true,\"showCharacters\":false,\"showBudget\":false,\"showMedia\":false}'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "pitch_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "view_count": {
          "name": "view_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "like_count": {
          "name": "like_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "nda_count": {
          "name": "nda_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "ai_used": {
          "name": "ai_used",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "pitches_user_id_idx": {
          "name": "pitches_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "pitches_status_idx": {
          "name": "pitches_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "pitches_genre_idx": {
          "name": "pitches_genre_idx",
          "columns": [
            "genre"
          ],
          "isUnique": false
        },
        "pitches_format_idx": {
          "name": "pitches_format_idx",
          "columns": [
            "format"
          ],
          "isUnique": false
        },
        "pitches_title_search_idx": {
          "name": "pitches_title_search_idx",
          "columns": [
            "title"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "pitches_user_id_users_id_fk": {
          "name": "pitches_user_id_users_id_fk",
          "tableFrom": "pitches",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "sessions": {
      "name": "sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "sessions_user_id_idx": {
          "name": "sessions_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "sessions_token_idx": {
          "name": "sessions_token_idx",
          "columns": [
            "token"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "sessions_user_id_users_id_fk": {
          "name": "sessions_user_id_users_id_fk",
          "tableFrom": "sessions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "sessions_token_unique": {
          "name": "sessions_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      }
    },
    "subscription_history": {
      "name": "subscription_history",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "tier": {
          "name": "tier",
          "type": "subscription_tier_new",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_price_id": {
          "name": "stripe_price_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "billing_interval": {
          "name": "billing_interval",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "canceled_at": {
          "name": "canceled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "subscription_history_user_id_idx": {
          "name": "subscription_history_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "subscription_history_status_idx": {
          "name": "subscription_history_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "subscription_history_stripe_subscription_idx": {
          "name": "subscription_history_stripe_subscription_idx",
          "columns": [
            "stripe_subscription_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "subscription_history_user_id_users_id_fk": {
          "name": "subscription_history_user_id_users_id_fk",
          "tableFrom": "subscription_history",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "transactions": {
      "name": "transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'EUR'"
        },
        "stripe_payment_intent_id": {
          "name": "stripe_payment_intent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_invoice_id": {
          "name": "stripe_invoice_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "transactions_user_id_idx": {
          "name": "transactions_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "transactions_status_idx": {
          "name": "transactions_status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "transactions_user_id_users_id_fk": {
          "name": "transactions_user_id_users_id_fk",
          "tableFrom": "transactions",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "typing_indicators": {
      "name": "typing_indicators",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "is_typing": {
          "name": "is_typing",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "typing_indicators_conversation_id_idx": {
          "name": "typing_indicators_conversation_id_idx",
          "columns": [
            "conversation_id"
          ],
          "isUnique": false
        },
        "typing_indicators_updated_at_idx": {
          "name": "typing_indicators_updated_at_idx",
          "columns": [
            "updated_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "typing_indicators_conversation_id_conversations_id_fk": {
          "name": "typing_indicators_conversation_id_conversations_id_fk",
          "tableFrom": "typing_indicators",
          "tableTo": "conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "typing_indicators_user_id_users_id_fk": {
          "name": "typing_indicators_user_id_users_id_fk",
          "tableFrom": "typing_indicators",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "typing_indicators_conversation_id_user_id_unique": {
          "name": "typing_indicators_conversation_id_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "conversation_id",
            "user_id"
          ]
        }
      }
    },
    "user_credits": {
      "name": "user_credits",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "balance": {
          "name": "balance",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_purchased": {
          "name": "total_purchased",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_used": {
          "name": "total_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_updated": {
          "name": "last_updated",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "user_credits_user_id_idx": {
          "name": "user_credits_user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "user_credits_user_id_users_id_fk": {
          "name": "user_credits_user_id_users_id_fk",
          "tableFrom": "user_credits",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "user_credits_user_id_unique": {
          "name": "user_credits_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      }
    },
    "users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "username": {
          "name": "username",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "user_type": {
          "name": "user_type",
          "type": "user_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'viewer'"
        },
        "first_name": {
          "name": "first_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "location": {
          "name": "location",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "bio": {
          "name": "bio",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "profile_image_url": {
          "name": "profile_image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_name": {
          "name": "company_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_number": {
          "name": "company_number",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "company_website": {
          "name": "company_website",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_address": {
          "name": "company_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email_verified": {
          "name": "email_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "email_verification_token": {
          "name": "email_verification_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "company_verified": {
          "name": "company_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "subscription_tier": {
          "name": "subscription_tier",
          "type": "subscription_tier",
          "primaryKey": false,
          "notNull": false,
          "default": "'free'"
        },
        "subscription_start_date": {
          "name": "subscription_start_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_end_date": {
          "name": "subscription_end_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_login_at": {
          "name": "last_login_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "users_email_idx": {
          "name": "users_email_idx",
          "columns": [
            "email"
          ],
          "isUnique": false
        },
        "users_username_idx": {
          "name": "users_username_idx",
          "columns": [
            "username"
          ],
          "isUnique": false
        },
        "users_user_type_idx": {
          "name": "users_user_type_idx",
          "columns": [
            "user_type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        },
        "users_username_unique": {
          "name": "users_username_unique",
          "nullsNotDistinct": false,
          "columns": [
            "username"
          ]
        }
      }
    }
  },
  "enums": {
    "credit_transaction_type": {
      "name": "credit_transaction_type",
      "values": {
        "purchase": "purchase",
        "usage": "usage",
        "refund": "refund",
        "bonus": "bonus"
      }
    },
    "format": {
      "name": "format",
      "values": {
        "feature": "feature",
        "tv": "tv",
        "short": "short",
        "webseries": "webseries",
        "other": "other"
      }
    },
    "genre": {
      "name": "genre",
      "values": {
        "drama": "drama",
        "comedy": "comedy",
        "thriller": "thriller",
        "horror": "horror",
        "scifi": "scifi",
        "fantasy": "fantasy",
        "documentary": "documentary",
        "animation": "animation",
        "action": "action",
        "romance": "romance",
        "other": "other"
      }
    },
    "invoice_status": {
      "name": "invoice_status",
      "values": {
        "draft": "draft",
        "sent": "sent",
        "paid": "paid",
        "overdue": "overdue",
        "void": "void"
      }
    },
    "nda_type": {
      "name": "nda_type",
      "values": {
        "basic": "basic",
        "enhanced": "enhanced",
        "custom": "custom"
      }
    },
    "pitch_status": {
      "name": "pitch_status",
      "values": {
        "draft": "draft",
        "published": "published",
        "hidden": "hidden",
        "archived": "archived"
      }
    },
    "subscription_tier": {
      "name": "subscription_tier",
      "values": {
        "free": "free",
        "creator": "creator",
        "pro": "pro",
        "investor": "investor"
      }
    },
    "subscription_tier_new": {
      "name": "subscription_tier_new",
      "values": {
        "BASIC": "BASIC",
        "PRO": "PRO",
        "ENTERPRISE": "ENTERPRISE"
      }
    },
    "transaction_status": {
      "name": "transaction_status",
      "values": {
        "pending": "pending",
        "completed": "completed",
        "failed": "failed",
        "refunded": "refunded"
      }
    },
    "transaction_type": {
      "name": "transaction_type",
      "values": {
        "subscription": "subscription",
        "credits": "credits",
        "success_fee": "success_fee",
        "refund": "refund"
      }
    },
    "user_type": {
      "name": "user_type",
      "values": {
        "creator": "creator",
        "production": "production",
        "investor": "investor",
        "viewer": "viewer"
      }
    }
  },
  "schemas": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}