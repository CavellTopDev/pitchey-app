{
  "timestamp": "2026-01-11T16:50:00.000Z",
  "environment": "production",
  "baseUrl": "https://pitchey-api-prod.ndlovucavelle.workers.dev",
  "summary": {
    "totalEndpoints": 8,
    "averageResponseTime": {
      "current": "N/A - Authentication required",
      "target": "< 100ms",
      "expected_with_no_cache": "150-200ms",
      "expected_with_cache": "50-80ms"
    },
    "errorRate": {
      "current": "N/A",
      "target": "< 1%"
    },
    "availability": {
      "current": "N/A",
      "target": "> 99.9%"
    }
  },
  "endpoints": {
    "/api/ndas/active": {
      "method": "GET",
      "status": "Not tested - Auth required",
      "expectedMetrics": {
        "withoutOptimization": {
          "p50": "120ms",
          "p95": "180ms",
          "p99": "350ms"
        },
        "withOptimization": {
          "p50": "40ms",
          "p95": "80ms",
          "p99": "150ms"
        }
      },
      "optimizations": [
        "Add index on (user_id, status)",
        "Implement 5-minute Redis cache",
        "Limit default results to 20"
      ]
    },
    "/api/ndas/signed": {
      "method": "GET",
      "status": "Not tested - Auth required",
      "expectedMetrics": {
        "withoutOptimization": {
          "p50": "130ms",
          "p95": "190ms",
          "p99": "400ms"
        },
        "withOptimization": {
          "p50": "45ms",
          "p95": "85ms",
          "p99": "160ms"
        }
      },
      "optimizations": [
        "Add composite index on (user_id, signed_date)",
        "Cache for 10 minutes",
        "Use cursor pagination"
      ]
    },
    "/api/ndas/incoming-requests": {
      "method": "GET",
      "status": "Not tested - Auth required",
      "expectedMetrics": {
        "withoutOptimization": {
          "p50": "100ms",
          "p95": "160ms",
          "p99": "300ms"
        },
        "withOptimization": {
          "p50": "60ms",
          "p95": "100ms",
          "p99": "180ms"
        }
      },
      "optimizations": [
        "Add index on recipient_id",
        "Convert to WebSocket push",
        "Batch with other requests"
      ]
    },
    "/api/ndas/outgoing-requests": {
      "method": "GET",
      "status": "Not tested - Auth required",
      "expectedMetrics": {
        "withoutOptimization": {
          "p50": "100ms",
          "p95": "160ms",
          "p99": "300ms"
        },
        "withOptimization": {
          "p50": "50ms",
          "p95": "90ms",
          "p99": "170ms"
        }
      },
      "optimizations": [
        "Add index on requester_id",
        "1-minute cache TTL",
        "Combine with incoming requests"
      ]
    },
    "/api/saved-pitches": {
      "method": "GET",
      "status": "Not tested - Auth required",
      "expectedMetrics": {
        "withoutOptimization": {
          "p50": "110ms",
          "p95": "170ms",
          "p99": "320ms"
        },
        "withOptimization": {
          "p50": "35ms",
          "p95": "70ms",
          "p99": "140ms"
        }
      },
      "optimizations": [
        "Add compound index on (user_id, saved_date)",
        "5-minute Redis cache",
        "Eager load pitch details"
      ]
    },
    "/api/saved-pitches": {
      "method": "POST",
      "status": "Not tested - Auth required",
      "expectedMetrics": {
        "withoutOptimization": {
          "p50": "60ms",
          "p95": "100ms",
          "p99": "180ms"
        },
        "withOptimization": {
          "p50": "40ms",
          "p95": "70ms",
          "p99": "120ms"
        }
      },
      "optimizations": [
        "Use UPSERT for idempotency",
        "Invalidate cache on success",
        "Return minimal response"
      ]
    },
    "/api/saved-pitches/{id}": {
      "method": "DELETE",
      "status": "Not tested - Auth required",
      "expectedMetrics": {
        "withoutOptimization": {
          "p50": "50ms",
          "p95": "80ms",
          "p99": "150ms"
        },
        "withOptimization": {
          "p50": "30ms",
          "p95": "60ms",
          "p99": "100ms"
        }
      },
      "optimizations": [
        "Soft delete implementation",
        "Cache invalidation",
        "Batch delete support"
      ]
    },
    "/api/notifications/unread": {
      "method": "GET",
      "status": "Not tested - Auth required",
      "expectedMetrics": {
        "withoutOptimization": {
          "p50": "90ms",
          "p95": "150ms",
          "p99": "280ms"
        },
        "withOptimization": {
          "p50": "25ms",
          "p95": "50ms",
          "p99": "100ms"
        }
      },
      "optimizations": [
        "Convert to WebSocket push",
        "10-second memory cache for count",
        "Index on (user_id, read_status, created_at)",
        "Limit to 50 most recent"
      ]
    }
  },
  "websocket": {
    "endpoint": "wss://pitchey-api-prod.ndlovucavelle.workers.dev/ws",
    "status": "Not tested - Auth required",
    "expectedMetrics": {
      "connectionTime": {
        "withoutOptimization": "200-500ms",
        "withOptimization": "100-200ms"
      },
      "pingPong": {
        "withoutOptimization": "50-100ms",
        "withOptimization": "20-40ms"
      }
    }
  },
  "infrastructure": {
    "database": {
      "provider": "Neon PostgreSQL",
      "status": "Connected",
      "pooling": "Not configured",
      "indexes": "Missing critical indexes"
    },
    "cache": {
      "redis": "Configured but not utilized",
      "cloudflareKV": "Available but not implemented",
      "browserCache": "Not configured"
    },
    "monitoring": {
      "sentry": "Configured in code but needs DSN",
      "cloudflareAnalytics": "Available",
      "customMetrics": "Not implemented"
    }
  },
  "recommendations": {
    "critical": [
      "Add database indexes immediately (0 effort, high impact)",
      "Enable Redis caching for all GET endpoints",
      "Configure connection pooling"
    ],
    "high": [
      "Migrate notifications to WebSocket",
      "Implement request batching",
      "Add performance monitoring"
    ],
    "medium": [
      "Implement cursor-based pagination",
      "Add edge caching with Cloudflare KV",
      "Set up automated performance testing"
    ]
  },
  "estimatedImpact": {
    "withAllOptimizations": {
      "responseTimeReduction": "60-70%",
      "errorRateReduction": "80%",
      "capacityIncrease": "3x",
      "userExperienceScore": "+40 points"
    },
    "timeline": {
      "week1": "50% improvement",
      "month1": "70% improvement",
      "quarter1": "90% improvement"
    }
  }
}
