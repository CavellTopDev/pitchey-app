# ============================================
# Pitchey Platform Environment Variables
# ============================================
# Copy this file to .env and configure for your environment

# ============================================
# CORE CONFIGURATION (Required)
# ============================================

# Database (PostgreSQL - Neon or local)
DATABASE_URL=postgresql://user:password@host/database?sslmode=require

# Authentication
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters
JWT_REFRESH_SECRET=different-secure-random-string-32-chars

# Application URLs
FRONTEND_URL=http://localhost:5173
APP_URL=http://localhost:8001
BASE_URL=http://localhost:5173

# Server Configuration
PORT=8001
HOST=0.0.0.0
DENO_ENV=development
NODE_ENV=development

# ============================================
# CACHING CONFIGURATION (Optional)
# ============================================

# Cache Settings
CACHE_ENABLED=true
CACHE_TTL=300

# Option 1: Upstash Redis (Recommended for production)
# Get from: https://console.upstash.com
UPSTASH_REDIS_REST_URL=https://your-instance.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-token

# Option 2: Standard Redis (For local development)
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ============================================
# WEBSOCKET CONFIGURATION
# ============================================

ENABLE_WEBSOCKETS=true
WEBSOCKET_ENDPOINT=/ws
WEBSOCKET_PROTOCOL=pitchey-v1

# WebSocket Rate Limiting
WS_RATE_LIMIT_ENABLED=true
WS_RATE_LIMIT_MAX_MESSAGES=120
WS_RATE_LIMIT_WINDOW_MS=60000
WS_RATE_LIMIT_REFILL_RATE=2

# WebSocket Analytics & Features
WS_ANALYTICS_ENABLED=true
WS_PRESENCE_TRACKING_ENABLED=true
WS_MESSAGE_QUEUE_ENABLED=true
WS_HEARTBEAT_INTERVAL=30000
WS_CLEANUP_INTERVAL=30000
WS_SESSION_TIMEOUT=300000

# ============================================
# EMAIL SERVICE (Optional)
# ============================================

# Email Provider (console | sendgrid | smtp | resend)
EMAIL_PROVIDER=console
EMAIL_FROM=noreply@yourdomain.com
EMAIL_FROM_NAME=Pitchey
EMAIL_REPLY_TO=support@yourdomain.com

# SendGrid (if using)
# SENDGRID_API_KEY=SG.xxxxx

# Resend (if using)
# RESEND_API_KEY=re_xxxxx

# SMTP (if using)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your_email@gmail.com
# SMTP_PASS=your_app_password
# SMTP_SECURE=true

# ============================================
# PAYMENT PROCESSING (Optional)
# ============================================

# Stripe Configuration
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_xxxxx
STRIPE_PUBLISHABLE_KEY=pk_test_xxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxx

# Stripe Subscription Price IDs
STRIPE_PRO_PRICE_ID=price_xxxxx_pro_monthly
STRIPE_ENTERPRISE_PRICE_ID=price_xxxxx_enterprise_monthly

# Stripe Credit Package Price IDs
STRIPE_CREDITS_SMALL_PRICE_ID=price_xxxxx_credits_small
STRIPE_CREDITS_MEDIUM_PRICE_ID=price_xxxxx_credits_medium
STRIPE_CREDITS_LARGE_PRICE_ID=price_xxxxx_credits_large

# ============================================
# FILE STORAGE (Optional)
# ============================================

# Storage Provider (local | s3 | r2)
STORAGE_PROVIDER=local

# AWS S3 / Cloudflare R2 (if using)
# AWS_ACCESS_KEY_ID=xxxxx
# AWS_SECRET_ACCESS_KEY=xxxxx
# AWS_REGION=us-east-1
# S3_BUCKET=your-bucket-name
# S3_ENDPOINT=https://s3.amazonaws.com

# ============================================
# MONITORING & ANALYTICS (Optional)
# ============================================

# Sentry Error Tracking
# SENTRY_DSN=https://xxxxx@sentry.io/xxxxx
# SENTRY_ENVIRONMENT=development
# SENTRY_TRACES_SAMPLE_RATE=0.1

# ============================================
# SECURITY CONFIGURATION
# ============================================

# CORS Settings
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:8001

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=60000

# Security Headers
ENABLE_SECURITY_HEADERS=true
CSP_ENABLED=true

# ============================================
# DEVELOPMENT TOOLS (Optional)
# ============================================

# Debug Mode
DEBUG=false
LOG_LEVEL=info

# Mock Services (for development)
USE_MOCK_STRIPE=false
USE_MOCK_EMAIL=true
USE_MOCK_STORAGE=true

# ============================================
# PRODUCTION DEPLOYMENT URLS
# ============================================
# Uncomment and configure for production

# Production Frontend
# FRONTEND_URL=https://pitchey.netlify.app
# BASE_URL=https://pitchey.netlify.app

# Production Backend
# APP_URL=https://pitchey-backend-fresh.deno.dev

# Production Environment
# DENO_ENV=production
# NODE_ENV=production

# ============================================
# NOTES
# ============================================
# 1. Always use PORT=8001 for backend development
# 2. Frontend .env requires VITE_ prefix for client-side variables
# 3. Restart services after changing environment variables
# 4. Keep sensitive credentials secure and never commit to git
# 5. Use strong, unique values for JWT secrets in production