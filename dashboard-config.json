{
  "dashboardName": "Pitchey Phase 1 Monitoring",
  "version": "1.0.0",
  "refreshInterval": "10s",
  "timeRange": "last_1_hour",
  "sections": {
    "overview": {
      "title": "System Overview",
      "widgets": [
        {
          "id": "request-rate",
          "type": "line-chart",
          "title": "Request Rate",
          "metric": "api.requests.rate",
          "aggregation": "avg",
          "groupBy": "endpoint",
          "period": "1m"
        },
        {
          "id": "response-time",
          "type": "multi-line",
          "title": "Response Time Percentiles",
          "metrics": [
            {
              "name": "P50",
              "metric": "api.response_time.p50",
              "color": "#10B981"
            },
            {
              "name": "P95",
              "metric": "api.response_time.p95",
              "color": "#F59E0B",
              "target": 200
            },
            {
              "name": "P99",
              "metric": "api.response_time.p99",
              "color": "#EF4444",
              "target": 500
            }
          ]
        },
        {
          "id": "error-rate",
          "type": "percentage",
          "title": "Error Rate",
          "metric": "api.errors.rate",
          "thresholds": {
            "good": "< 1%",
            "warning": "1-5%",
            "critical": "> 5%"
          }
        },
        {
          "id": "availability",
          "type": "gauge",
          "title": "Availability",
          "metric": "api.availability",
          "target": 99.9,
          "format": "percentage"
        }
      ]
    },
    "phase1Endpoints": {
      "title": "Phase 1 Endpoints Performance",
      "widgets": [
        {
          "id": "nda-endpoints",
          "type": "table",
          "title": "NDA Endpoints",
          "columns": [
            {
              "field": "endpoint",
              "header": "Endpoint"
            },
            {
              "field": "requests",
              "header": "Requests/min"
            },
            {
              "field": "avg_time",
              "header": "Avg Time (ms)"
            },
            {
              "field": "p95_time",
              "header": "P95 Time (ms)",
              "highlight": {
                "warning": "> 200",
                "critical": "> 500"
              }
            },
            {
              "field": "errors",
              "header": "Errors",
              "highlight": {
                "warning": "> 1",
                "critical": "> 5"
              }
            },
            {
              "field": "cache_hit_rate",
              "header": "Cache Hit %"
            }
          ],
          "data": [
            {
              "endpoint": "/api/ndas/active",
              "metric": "ndas.active"
            },
            {
              "endpoint": "/api/ndas/signed",
              "metric": "ndas.signed"
            },
            {
              "endpoint": "/api/ndas/incoming-requests",
              "metric": "ndas.incoming_requests"
            },
            {
              "endpoint": "/api/ndas/outgoing-requests",
              "metric": "ndas.outgoing_requests"
            }
          ]
        },
        {
          "id": "saved-pitches",
          "type": "stat-group",
          "title": "Saved Pitches",
          "stats": [
            {
              "label": "GET /api/saved-pitches",
              "metric": "saved_pitches.get.p95",
              "unit": "ms",
              "target": "< 200ms"
            },
            {
              "label": "POST /api/saved-pitches",
              "metric": "saved_pitches.post.p95",
              "unit": "ms",
              "target": "< 100ms"
            },
            {
              "label": "DELETE /api/saved-pitches",
              "metric": "saved_pitches.delete.p95",
              "unit": "ms",
              "target": "< 80ms"
            }
          ]
        },
        {
          "id": "notifications",
          "type": "time-series",
          "title": "Notifications Performance",
          "metric": "notifications.unread.response_time",
          "annotations": [
            {
              "time": "deployment",
              "label": "Deploy"
            }
          ]
        }
      ]
    },
    "infrastructure": {
      "title": "Infrastructure Health",
      "widgets": [
        {
          "id": "database-health",
          "type": "health-indicator",
          "title": "Database",
          "checks": [
            {
              "name": "Connection Pool",
              "metric": "db.connections.active",
              "status": "healthy|degraded|unhealthy"
            },
            {
              "name": "Query Time P95",
              "metric": "db.query_time.p95",
              "threshold": "< 100ms"
            },
            {
              "name": "Error Rate",
              "metric": "db.errors.rate",
              "threshold": "< 0.1%"
            }
          ]
        },
        {
          "id": "cache-performance",
          "type": "stacked-bar",
          "title": "Cache Hit/Miss Ratio",
          "metrics": [
            {
              "name": "Hits",
              "metric": "cache.hits",
              "color": "#10B981"
            },
            {
              "name": "Misses",
              "metric": "cache.misses",
              "color": "#EF4444"
            }
          ]
        },
        {
          "id": "websocket-status",
          "type": "realtime-counter",
          "title": "WebSocket Connections",
          "metrics": [
            {
              "label": "Active",
              "metric": "ws.connections.active"
            },
            {
              "label": "Messages/sec",
              "metric": "ws.messages.rate"
            },
            {
              "label": "Errors",
              "metric": "ws.errors.total"
            }
          ]
        }
      ]
    },
    "alerts": {
      "title": "Active Alerts",
      "widgets": [
        {
          "id": "alert-list",
          "type": "alert-list",
          "title": "Current Alerts",
          "filters": {
            "severity": ["critical", "high", "medium"],
            "status": ["firing", "pending"]
          },
          "columns": [
            "severity",
            "alert_name",
            "value",
            "duration",
            "actions"
          ]
        },
        {
          "id": "alert-history",
          "type": "timeline",
          "title": "Alert History (24h)",
          "timeRange": "24h",
          "groupBy": "severity"
        }
      ]
    },
    "optimization": {
      "title": "Optimization Opportunities",
      "widgets": [
        {
          "id": "slow-endpoints",
          "type": "bar-chart",
          "title": "Slowest Endpoints",
          "metric": "api.response_time.p95",
          "limit": 10,
          "sort": "desc"
        },
        {
          "id": "error-distribution",
          "type": "pie-chart",
          "title": "Error Distribution",
          "metric": "api.errors.by_type",
          "legend": true
        },
        {
          "id": "cache-candidates",
          "type": "recommendation-list",
          "title": "Cache Optimization",
          "recommendations": [
            {
              "endpoint": "/api/ndas/active",
              "current": "No cache",
              "recommendation": "Add 5-min Redis cache",
              "impact": "~50ms reduction"
            },
            {
              "endpoint": "/api/saved-pitches",
              "current": "No cache",
              "recommendation": "Add 5-min KV cache",
              "impact": "~40ms reduction"
            },
            {
              "endpoint": "/api/ndas/signed",
              "current": "No cache",
              "recommendation": "Add 10-min cache",
              "impact": "~45ms reduction"
            }
          ]
        }
      ]
    }
  },
  "filters": {
    "global": [
      {
        "id": "environment",
        "type": "dropdown",
        "label": "Environment",
        "options": ["production", "staging", "development"],
        "default": "production"
      },
      {
        "id": "time-range",
        "type": "time-picker",
        "label": "Time Range",
        "options": [
          "last_5_minutes",
          "last_15_minutes",
          "last_1_hour",
          "last_6_hours",
          "last_24_hours",
          "last_7_days"
        ],
        "default": "last_1_hour"
      },
      {
        "id": "user-type",
        "type": "multi-select",
        "label": "User Type",
        "options": ["creator", "investor", "production"],
        "default": ["all"]
      }
    ]
  },
  "alertRules": {
    "highErrorRate": {
      "condition": "api.errors.rate > 5",
      "window": "5m",
      "severity": "critical",
      "notification": {
        "channels": ["email", "slack"],
        "message": "Error rate exceeds 5% threshold"
      }
    },
    "slowResponse": {
      "condition": "api.response_time.p95 > 500",
      "window": "5m",
      "severity": "warning",
      "notification": {
        "channels": ["slack"],
        "message": "P95 response time exceeds 500ms"
      }
    },
    "databaseDown": {
      "condition": "health.database == 'unhealthy'",
      "window": "1m",
      "severity": "critical",
      "notification": {
        "channels": ["email", "slack", "pagerduty"],
        "message": "Database health check failed"
      }
    },
    "cacheFailure": {
      "condition": "cache.hit_rate < 30",
      "window": "10m",
      "severity": "medium",
      "notification": {
        "channels": ["slack"],
        "message": "Cache hit rate below 30%"
      }
    }
  },
  "export": {
    "formats": ["json", "csv", "pdf"],
    "schedule": {
      "daily": {
        "time": "09:00",
        "recipients": ["team@pitchey.com"],
        "sections": ["overview", "phase1Endpoints"]
      },
      "weekly": {
        "day": "monday",
        "time": "09:00",
        "recipients": ["management@pitchey.com"],
        "sections": ["all"]
      }
    }
  }
}
