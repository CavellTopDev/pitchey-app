# Pitchey Production Environment Configuration Template
# Copy this file to .env.production and fill in your actual values

# ========================================
# CORE APPLICATION SETTINGS
# ========================================

# Frontend URLs (Cloudflare Pages)
VITE_API_URL=https://pitchey-api-production.your-domain.workers.dev
VITE_WS_URL=wss://pitchey-api-production.your-domain.workers.dev/ws
VITE_NODE_ENV=production

# Backend URLs (Deno Deploy backup)
FRONTEND_URL=https://pitchey.pages.dev
ORIGIN_URL=https://pitchey-backend-fresh.deno.dev

# Application Mode
NODE_ENV=production
DENO_ENV=production
PORT=8001

# ========================================
# DATABASE CONFIGURATION
# ========================================

# Neon PostgreSQL Database
# Get from: https://console.neon.tech/
DATABASE_URL=postgresql://username:password@hostname/database?sslmode=require

# Database Pool Settings
DATABASE_MAX_CONNECTIONS=20
DATABASE_MIN_CONNECTIONS=5
DATABASE_CONNECTION_TIMEOUT=30000

# ========================================
# AUTHENTICATION & SECURITY
# ========================================

# JWT Configuration (Generate with: openssl rand -base64 64)
JWT_SECRET=your-super-secure-jwt-secret-64-chars-minimum-for-production-security

# JWT Expiration Settings
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_STRICT_MODE=true

# CORS Settings
CORS_ORIGIN=https://pitchey.pages.dev
CORS_CREDENTIALS=true

# ========================================
# REDIS CACHE CONFIGURATION
# ========================================

# Upstash Redis
# Get from: https://console.upstash.com/
UPSTASH_REDIS_REST_URL=https://your-redis-id.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-redis-token

# Cache Settings
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=3600
CACHE_COMPRESSION=true

# Redis Connection Pool
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=1000
REDIS_CONNECTION_TIMEOUT=5000

# ========================================
# PAYMENT PROCESSING
# ========================================

# Stripe Configuration
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_live_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Payment Settings
PAYMENT_CURRENCY=usd
PAYMENT_ENABLED=true
PAYMENT_TEST_MODE=false

# ========================================
# EMAIL SERVICES
# ========================================

# Resend Email Service
# Get from: https://resend.com/api-keys
RESEND_API_KEY=re_your_resend_api_key

# Email Configuration
EMAIL_FROM=noreply@your-domain.com
EMAIL_FROM_NAME=Pitchey Platform
EMAIL_REPLY_TO=support@your-domain.com

# Email Features
EMAIL_NOTIFICATIONS_ENABLED=true
EMAIL_MARKETING_ENABLED=true
EMAIL_VERIFICATION_ENABLED=true

# ========================================
# FILE STORAGE
# ========================================

# Cloudflare R2 Storage
# Get from: https://dash.cloudflare.com/
R2_ACCOUNT_ID=your-cloudflare-account-id
R2_ACCESS_KEY_ID=your-r2-access-key
R2_SECRET_ACCESS_KEY=your-r2-secret-key
R2_BUCKET_NAME=pitchey-uploads
R2_PUBLIC_URL=https://uploads.your-domain.com

# Upload Limits
MAX_FILE_SIZE=50MB
ALLOWED_FILE_TYPES=pdf,doc,docx,txt,jpg,jpeg,png,mp4,mov
MAX_FILES_PER_UPLOAD=10

# ========================================
# MONITORING & LOGGING
# ========================================

# Sentry Error Tracking
# Get from: https://sentry.io/
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=1.0.0

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=/var/log/pitchey/app.log

# Performance Monitoring
PERFORMANCE_MONITORING_ENABLED=true
PERFORMANCE_SAMPLE_RATE=0.1

# ========================================
# CLOUDFLARE CONFIGURATION
# ========================================

# Cloudflare API
# Get from: https://dash.cloudflare.com/profile/api-tokens
CLOUDFLARE_API_TOKEN=your-cloudflare-api-token
CLOUDFLARE_ACCOUNT_ID=your-cloudflare-account-id
CLOUDFLARE_ZONE_ID=your-cloudflare-zone-id

# Cloudflare KV
CLOUDFLARE_KV_NAMESPACE_ID=your-kv-namespace-id

# Cloudflare Workers
CLOUDFLARE_WORKER_NAME=pitchey-api-production

# ========================================
# DEPLOYMENT CONFIGURATION
# ========================================

# Deno Deploy (Backup deployment)
DENO_DEPLOY_TOKEN=your-deno-deploy-token
DENO_DEPLOY_PROJECT=pitchey-backend-fresh

# Health Check URLs
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=60000
HEALTH_CHECK_TIMEOUT=5000

# ========================================
# FEATURE FLAGS
# ========================================

# Feature Toggles
FEATURE_WEBSOCKETS=true
FEATURE_REAL_TIME_NOTIFICATIONS=true
FEATURE_DRAFT_AUTO_SYNC=true
FEATURE_ANALYTICS=true
FEATURE_A_B_TESTING=false

# Beta Features
BETA_FEATURES_ENABLED=false
BETA_USER_LIST=

# ========================================
# ANALYTICS & TRACKING
# ========================================

# Google Analytics
GA_MEASUREMENT_ID=G-XXXXXXXXXX

# Analytics Configuration
ANALYTICS_ENABLED=true
ANALYTICS_RETENTION_DAYS=365
ANALYTICS_SAMPLING_RATE=1.0

# User Behavior Tracking
USER_TRACKING_ENABLED=true
SESSION_RECORDING_ENABLED=false

# ========================================
# SECURITY HEADERS
# ========================================

# Content Security Policy
CSP_ENABLED=true
CSP_REPORT_ONLY=false

# Security Headers
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff

# ========================================
# WEBSOCKET CONFIGURATION
# ========================================

# WebSocket Settings
WS_ENABLED=true
WS_MAX_CONNECTIONS=1000
WS_HEARTBEAT_INTERVAL=30000
WS_CONNECTION_TIMEOUT=60000

# Real-time Features
REAL_TIME_NOTIFICATIONS=true
REAL_TIME_ANALYTICS=true
REAL_TIME_PRESENCE=true

# ========================================
# BACKUP & DISASTER RECOVERY
# ========================================

# Database Backup
DB_BACKUP_ENABLED=true
DB_BACKUP_SCHEDULE=0 2 * * *
DB_BACKUP_RETENTION_DAYS=30

# File Backup
FILE_BACKUP_ENABLED=true
FILE_BACKUP_LOCATION=s3://your-backup-bucket

# ========================================
# MAINTENANCE & UPDATES
# ========================================

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=We're performing scheduled maintenance. Please check back soon.

# Deployment Settings
ZERO_DOWNTIME_DEPLOYMENT=true
DEPLOYMENT_STRATEGY=blue-green
ROLLBACK_ENABLED=true

# ========================================
# DEVELOPMENT OVERRIDES
# ========================================

# Only used in development - remove in production
# DEV_BYPASS_AUTH=false
# DEV_MOCK_PAYMENTS=false
# DEV_CORS_ALL_ORIGINS=false

# ========================================
# NOTES
# ========================================

# 1. Replace all placeholder values with actual production values
# 2. Never commit this file with real secrets to version control
# 3. Use environment-specific secret management (GitHub Secrets, etc.)
# 4. Rotate secrets regularly, especially JWT_SECRET and API keys
# 5. Monitor all external service quotas and limits
# 6. Test all integrations in staging before production deployment