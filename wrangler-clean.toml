# Clean Performance-Optimized Production Configuration
name = "pitchey-production-optimized"
main = "src/worker-optimized-performance.ts"
compatibility_date = "2024-11-01"
compatibility_flags = ["nodejs_compat"]
account_id = "e16d3bf549153de23459a6c6a06a431b"
minify = true

# Production Environment Variables
[vars]
JWT_SECRET = "vYGh89KjLmNpQrStUwXyZ123456789ABCDEFGHIJKLMNOPQRSTuvwxyz-PRODUCTION"
ENVIRONMENT = "production"
API_VERSION = "v1.1-optimized"

# KV for caching and rate limiting
[[kv_namespaces]]
binding = "KV"
id = "98c88a185eb448e4868fcc87e458b3ac"

# R2 for file storage
[[r2_buckets]]
binding = "R2_BUCKET"
bucket_name = "pitchey-uploads"

# Durable Objects for WebSocket handling
[[durable_objects.bindings]]
name = "WEBSOCKET_ROOM"
class_name = "WebSocketRoom"

[[durable_objects.bindings]]
name = "NOTIFICATION_ROOM"
class_name = "NotificationRoom"

# Edge placement optimization
[placement]
mode = "smart"

# Scheduled tasks for metrics
[[triggers.crons]]
cron = "*/5 * * * *"

[[triggers.crons]]
cron = "*/15 * * * *"

[[triggers.crons]]
cron = "0 * * * *"